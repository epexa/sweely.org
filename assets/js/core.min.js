/**
 * @module       Carousel with orbital pagination
 * @author       ATOM
 * @license      MIT
 * @version      v1.0.0
 */
function initCarousel(t){function i(t){return this.init(t),this.addListeners(),this}return i.prototype.init=function(t){this.node=t.node,this.node.slider=this,this.slides=this.node.querySelector(".slides").children,this.slidesN=this.slides.length,this.pagination=this.node.querySelector(".pagination"),this.pagTransf="translate( -50%, -50% )",this.dots=this.pagination.children,this.dotsN=this.dots.length,this.step=-360/this.dotsN,this.angle=0,this.next=this.node.querySelector(".next"),this.prev=this.node.querySelector(".prev"),this.activeN=t.activeN||0,this.prevN=this.activeN,this.speed=t.speed||300,this.autoplay=t.autoplay||!1,this.autoplayId=null,this.setSlide(this.activeN),this.arrangeDots(),this.pagination.style.transition="transform "+this.speed+"ms",this.autoplay&&this.startAutoplay()},i.prototype.addListeners=function(){var t=this;this.next&&this.next.addEventListener("click",function(){t.setSlide(t.activeN+1)}),this.prev&&this.prev.addEventListener("click",function(){t.setSlide(t.activeN-1)});for(var i=0;i<this.dots.length;i++)this.dots[i].addEventListener("click",function(i){return function(){t.setSlide(i)}}(i));this.autoplay&&(this.node.addEventListener("mouseenter",function(){t.stopAutoplay()}),this.node.addEventListener("mouseleave",function(){t.startAutoplay()}))},i.prototype.setSlide=function(t){this.slides[this.activeN].classList.remove("active"),this.dots[this.activeN]&&this.dots[this.activeN].classList.remove("active"),this.prevN=this.activeN,this.activeN=t,this.activeN<0?this.activeN=this.slidesN-1:this.activeN>=this.slidesN&&(this.activeN=0),this.slides[this.activeN].classList.toggle("active"),this.dots[this.activeN]&&this.dots[this.activeN].classList.toggle("active"),this.rotate()},i.prototype.rotate=function(){this.activeN<this.dotsN&&(this.angle+=function(t,i,s,e){var a,n=t/2;return s>t&&(s=t-1),Math.abs(a=i-s)<=n?e*a:Math.abs(a=i-s+t)<=n?e*a:Math.abs(a=i-s-t)<=n?e*a:void 0}(this.dotsN,this.activeN,this.prevN,this.step),this.pagination.style.transform=this.pagTransf+" rotate("+this.angle+"deg)")},i.prototype.startAutoplay=function(){var t=this;this.autoplayId=setInterval(function(){t.setSlide(t.activeN+1)},this.autoplay)},i.prototype.stopAutoplay=function(){clearInterval(this.autoplayId)},i.prototype.arrangeDots=function(){for(var t=0;t<this.dotsN;t++)this.dots[t].style.transform="rotate("+360/this.dotsN*t+"deg)"},new i(t)}
